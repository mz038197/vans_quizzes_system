# LaTeX 數學公式使用說明

## 概述
本系統已支援 LaTeX 數學公式，您可以在題目內容和選項中使用 LaTeX 語法來顯示數學公式。

## 基本語法

### 1. 行內公式
使用 `$...$` 或 `\(...\)` 包裹公式，公式會在文本中顯示。

**範例：**
```
計算 $x^2 + y^2 = r^2$ 中的 r 值。
```

**顯示效果：**
計算 x² + y² = r² 中的 r 值。

### 2. 獨立公式
使用 `$$...$$` 或 `\[...\]` 包裹公式，公式會獨立成行並居中顯示。

**範例：**
```
請解下列方程式：
$$\int_0^1 x^2 dx = \frac{1}{3}$$
```

**顯示效果：**
請解下列方程式：
（公式會居中顯示）

## 常用 LaTeX 語法範例

### 分數
```latex
$\frac{a}{b}$ 或 $\frac{numerator}{denominator}$
```

### 次方和下標
```latex
$x^2$, $x^{10}$, $x_1$, $x_{ij}$
```

### 根號
```latex
$\sqrt{x}$, $\sqrt[n]{x}$
```

### 積分
```latex
$\int_a^b f(x) dx$
```

### 求和
```latex
$\sum_{i=1}^{n} i$
```

### 極限
```latex
$\lim_{x \to \infty} f(x)$
```

### 矩陣
```latex
$$\begin{pmatrix}
a & b \\
c & d
\end{pmatrix}$$
```

### 希臘字母
```latex
$\alpha$, $\beta$, $\gamma$, $\delta$, $\pi$, $\theta$
```

## 在題庫系統中使用 LaTeX

### 1. 編輯題目內容
在「題目內容」欄位中，直接輸入包含 LaTeX 語法的文本：

```
計算定積分 $\int_0^{\pi} \sin(x) dx$ 的值。
```

### 2. 編輯選項內容
在單選題、多選題或下拉選單的選項中，也可以使用 LaTeX：

**選項 A：** `$\frac{\pi}{2}$`
**選項 B：** `$\pi$`
**選項 C：** `$2\pi$`
**選項 D：** `$0$`

### 3. 答案比對說明
- **重要：** 答案比對時會保留完整的 LaTeX 語法
- 學生的答案必須與正確答案的 LaTeX 語法**完全一致**才算正確
- 例如：`$\frac{1}{2}$` 和 `$0.5$` 會被視為不同的答案

### 4. 最佳實踐
1. **使用標準語法：** 盡量使用標準的 LaTeX 語法，避免過於複雜的巨集
2. **測試預覽：** 儲存題目後，在管理界面查看公式是否正確顯示
3. **保持一致：** 在正確答案和選項中使用相同的 LaTeX 格式
4. **避免歧義：** 對於可能有多種表示方式的答案，在題目說明中明確要求格式

## 範例題目

### 範例 1：單選題
**題目：** 求解方程式 $x^2 - 5x + 6 = 0$ 的解集合？

**選項：**
- A. $\{2, 3\}$ ✓ 正確答案
- B. $\{-2, -3\}$
- C. $\{1, 6\}$
- D. $\{-1, -6\}$

### 範例 2：計算題
**題目：** 計算 $\lim_{x \to 0} \frac{\sin(x)}{x}$ 的值

**選項：**
- A. $0$
- B. $1$ ✓ 正確答案
- C. $\infty$
- D. 不存在

### 範例 3：矩陣題
**題目：** 下列哪個是單位矩陣？

**選項：**
- A. $\begin{pmatrix} 1 & 0 \\ 0 & 1 \end{pmatrix}$ ✓ 正確答案
- B. $\begin{pmatrix} 0 & 1 \\ 1 & 0 \end{pmatrix}$
- C. $\begin{pmatrix} 1 & 1 \\ 1 & 1 \end{pmatrix}$

## 注意事項

1. **跳脫字符：** 在輸入框中，反斜線 `\` 是 LaTeX 的特殊字符，請確保正確使用
2. **花括號：** `{` 和 `}` 在 LaTeX 中用於分組，如需顯示花括號本身，請使用 `\{` 和 `\}`
3. **美元符號：** 如需顯示美元符號 `$` 本身，請使用 `\$`
4. **渲染延遲：** 首次載入頁面時，LaTeX 公式可能需要短暫時間來渲染

## 技術細節

- **渲染引擎：** MathJax 3.x
- **支援格式：** TeX/LaTeX 標準語法
- **顯示模式：** HTML-CSS 輸出
- **瀏覽器兼容：** 支援所有現代瀏覽器（Chrome、Firefox、Safari、Edge）

## 常見問題

**Q: 為什麼我的公式沒有顯示？**
A: 請檢查：
1. 是否正確使用了 `$...$` 或 `$$...$$` 包裹公式
2. LaTeX 語法是否正確
3. 頁面是否完全載入完成

**Q: 答案比對為什麼不正確？**
A: LaTeX 語法必須完全一致。例如 `$\frac{1}{2}$` 和 `$\frac 1 2$` 會被視為不同的答案。

**Q: 可以使用自定義的 LaTeX 巨集嗎？**
A: 建議使用標準的 LaTeX 語法，複雜的自定義巨集可能不被支援。

## 參考資源

- [LaTeX 數學符號表](https://www.overleaf.com/learn/latex/List_of_Greek_letters_and_math_symbols)
- [MathJax 官方文檔](https://docs.mathjax.org/)
- [LaTeX 教學](https://www.overleaf.com/learn/latex/Mathematical_expressions)

